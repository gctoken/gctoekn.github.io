(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4818e01c"],{"3d76":function(e,t,a){"use strict";a("6c31")},"6c31":function(e,t,a){},cc6d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-overlay",{staticClass:"bind-inviter",attrs:{show:e.visbily}},[a("div",[a("div",{staticClass:"title"},[a("span",{domProps:{textContent:e._s(e.$t("app.text11"))}}),a("van-icon",{attrs:{name:"cross"},nativeOn:{click:function(t){e.visbily=!1}}})],1),a("span",{staticClass:"before",attrs:{"data-v-f1a70bea":""}},[e._v(" Green Carbon Token ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inviterCode,expression:"inviterCode"}],attrs:{type:"text",placeholder:e.$t("app.text2")},domProps:{value:e.inviterCode},on:{input:function(t){t.target.composing||(e.inviterCode=t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selfCode,expression:"selfCode"}],attrs:{type:"text",placeholder:e.$t("app.text3"),maxlength:"6"},domProps:{value:e.selfCode},on:{input:function(t){t.target.composing||(e.selfCode=t.target.value)}}}),a("van-button",{attrs:{disabled:e.isDisabled,color:e.changeColor},on:{click:e.bind}},[e._v(e._s(e.$t("app.text4")))])],1)])},r=[],s=a("5530"),o=(a("a9e3"),a("96cf"),a("1da1")),i={data:function(){return{visbily:!1,inviterCode:null,selfCode:null,isDisabled:!1,changeColor:""}},created:function(){this.$contracts},methods:{show:function(){this.visbily=!0},bind:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.inviterCode&&null!=e.selfCode){t.next=2;break}return t.abrupt("return",vant.Toast.fail(e.$t("app.text12")));case 2:if(!(e.selfCode.length<6)){t.next=4;break}return t.abrupt("return",vant.Toast.fail(e.$t("app.text5")));case 4:return a=e.selfCode.toLowerCase()+".gct",n=e.inviterCode.toLowerCase()+".gct",r=e.$web3.utils.isAddress(e.inviterCode),t.next=9,e.$contracts.CNS.methods.addressOfDomain(a).call();case 9:if(s=t.sent,o="",!Boolean(Number(s))){t.next=15;break}return t.abrupt("return",vant.Toast.fail(e.$t("app.text8")));case 15:if(!r){t.next=19;break}o=e.inviterCode,t.next=24;break;case 19:return t.next=21,e.$contracts.CNS.methods.addressOfDomain(n).call();case 21:if(o=t.sent,Boolean(Number(o))){t.next=24;break}return t.abrupt("return",vant.Toast.fail(e.$t("app.text7")));case 24:i=e.$contracts.Relations.methods,i.makeRelation(o,a).call({from:e.$address},(function(t,n){if(t)return vant.Toast.fail(e.$t("app.text7"));i.makeRelation(o,a).send({from:e.$address}).on("receipt",(function(t){e.visbily=!1,e.$emit("reload"),vant.Toast.clear(),vant.Toast.success(e.$t("app.text9"))})).on("error",(function(t){vant.Toast.clear(),vant.Toast.fail(e.$t("app.text10"))}))}));case 26:case"end":return t.stop()}}),t)})))()}}},c=Object(s["a"])({},i),l=c,d=(a("3d76"),a("2877")),u=Object(d["a"])(l,n,r,!1,null,"3842bb4f",null);t["default"]=u.exports}}]);